<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>tnt_stopwatch.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.5 on Wed Aug 28 02:51:39 2002 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>tnt_stopwatch.h</h1><a href="tnt_stopwatch_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*</font>
00002 <font class="comment">*</font>
00003 <font class="comment">* Mathematical and Computational Sciences Division</font>
00004 <font class="comment">* National Institute of Technology,</font>
00005 <font class="comment">* Gaithersburg, MD USA</font>
00006 <font class="comment">*</font>
00007 <font class="comment">*</font>
00008 <font class="comment">* This software was developed at the National Institute of Standards and</font>
00009 <font class="comment">* Technology (NIST) by employees of the Federal Government in the course</font>
00010 <font class="comment">* of their official duties. Pursuant to title 17 Section 105 of the</font>
00011 <font class="comment">* United States Code, this software is not subject to copyright protection</font>
00012 <font class="comment">* and is in the public domain.  NIST assumes no responsibility whatsoever for</font>
00013 <font class="comment">* its use by other parties, and makes no guarantees, expressed or implied,</font>
00014 <font class="comment">* about its quality, reliability, or any other characteristic.</font>
00015 <font class="comment">*</font>
00016 <font class="comment">*/</font>
00017 
00018 
00019 
00020 <font class="preprocessor">#ifndef STOPWATCH_H</font>
00021 <font class="preprocessor"></font><font class="preprocessor">#define STOPWATCH_H</font>
00022 <font class="preprocessor"></font>
00023 <font class="comment">// for clock() and CLOCKS_PER_SEC</font>
00024 <font class="preprocessor">#include &lt;time.h&gt;</font>
00025 
00026 
00027 <font class="keyword">namespace </font>TNT
00028 {
00029 
00030 <font class="keyword">inline</font> <font class="keyword">static</font> <font class="keywordtype">double</font> seconds(<font class="keywordtype">void</font>)<font class="keyword"></font>
00031 <font class="keyword"></font>{
00032     <font class="keyword">const</font> <font class="keywordtype">double</font> secs_per_tick = 1.0 / CLOCKS_PER_SEC;
00033     <font class="keywordflow">return</font> ( (<font class="keywordtype">double</font>) clock() ) * secs_per_tick;
00034 }
00035 
<a name="l00040"></a><a class="code" href="class_TNT__Stopwatch.html">00040</a> <font class="keyword">class </font>Stopwatch {
00041     <font class="keyword">private</font>:
00042         <font class="keywordtype">int</font> running_;
00043         <font class="keywordtype">double</font> start_time_;
00044         <font class="keywordtype">double</font> total_;
00045 
00046     <font class="keyword">public</font>:
00047         <a class="code" href="class_TNT__Stopwatch.html#a0">Stopwatch</a>();
00048         <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="class_TNT__Stopwatch.html#a1">start</a>();
00049         <font class="keyword">inline</font> <font class="keywordtype">double</font> <a class="code" href="class_TNT__Stopwatch.html#a2">stop</a>();
00050                 <font class="keyword">inline</font> <font class="keywordtype">double</font> <a class="code" href="class_TNT__Stopwatch.html#a3">read</a>();
00051                 <font class="keyword">inline</font> <font class="keywordtype">void</font> <a class="code" href="class_TNT__Stopwatch.html#a4">resume</a>();
00052                 <font class="keyword">inline</font> <font class="keywordtype">int</font> <a class="code" href="class_TNT__Stopwatch.html#a5">running</a>();
00053 };
00054 
<a name="l00059"></a><a class="code" href="class_TNT__Stopwatch.html#a0">00059</a> Stopwatch::Stopwatch() : running_(0), start_time_(0.0), total_(0.0) {}
00060 
<a name="l00064"></a><a class="code" href="class_TNT__Stopwatch.html#a1">00064</a> <font class="keywordtype">void</font> Stopwatch::start()<font class="keyword"> </font>
00065 <font class="keyword"></font>{
00066         running_ = 1;
00067         total_ = 0.0;
00068         start_time_ = seconds();
00069 }
00070 
<a name="l00075"></a><a class="code" href="class_TNT__Stopwatch.html#a2">00075</a> <font class="keywordtype">double</font> Stopwatch::stop()<font class="keyword">  </font>
00076 <font class="keyword"></font>{
00077         <font class="keywordflow">if</font> (running_) 
00078         {
00079          total_ += (seconds() - start_time_); 
00080          running_ = 0;
00081     }
00082     <font class="keywordflow">return</font> total_; 
00083 }
00084 
<a name="l00089"></a><a class="code" href="class_TNT__Stopwatch.html#a4">00089</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> Stopwatch::resume()<font class="keyword"></font>
00090 <font class="keyword"></font>{
00091         <font class="keywordflow">if</font> (!running_)
00092         {
00093                 start_time_ = seconds();
00094                 running_ = 1;
00095         }
00096 }
00097                 
00098 
<a name="l00102"></a><a class="code" href="class_TNT__Stopwatch.html#a3">00102</a> <font class="keyword">inline</font> <font class="keywordtype">double</font> Stopwatch::read()<font class="keyword">   </font>
00103 <font class="keyword"></font>{
00104         <font class="keywordflow">if</font> (running_)
00105         {
00106                 <a class="code" href="class_TNT__Stopwatch.html#a2">stop</a>();
00107                 <a class="code" href="class_TNT__Stopwatch.html#a4">resume</a>();
00108         }
00109         <font class="keywordflow">return</font> total_;
00110 }
00111 
00112 
00113 }
00114 <font class="preprocessor">#endif</font>
00115 <font class="preprocessor"></font>    
00116 
00117             
</div></pre><hr><address><small>Generated at Wed Aug 28 02:51:39 2002 for TemplateNumericalToolkit(TNT) by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
